<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light dark">
    <title>{% block title %}Planespotter{% endblock %}</title>
    <!-- Bootstrap for grid/layout -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Clarity Design System Core (after Bootstrap to override) -->
    <link rel="stylesheet" href="https://unpkg.com/@cds/core@6.9.2/global.min.css">
    <link rel="stylesheet" href="https://unpkg.com/@cds/core@6.9.2/styles/theme.dark.min.css" media="(prefers-color-scheme: dark)">
    <link rel="stylesheet" href="https://unpkg.com/@clr/ui@17.0.1/clr-ui.min.css">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Leaflet for maps -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <!-- Custom styles (last to override all) -->
    <link href="/static/css/styles.css" rel="stylesheet">
    <script>
        // Set Clarity theme based on system preference
        function setTheme() {
            const isDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            document.body.setAttribute('cds-theme', isDark ? 'dark' : '');
        }
        // Listen for theme changes
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', setTheme);
    </script>
</head>
<body onload="setTheme()">
    <header class="header header-6">
        <div class="container d-flex justify-content-between align-items-center">
            <div class="branding">
                <a href="/" class="nav-link">
                    <i class="bi bi-airplane-engines" style="font-size: 1.5rem; color: var(--ps-sky);"></i>
                    <span class="title">Planespotter</span>
                </a>
            </div>
            <div class="header-nav">
                <a href="/" class="nav-link nav-text">
                    <i class="bi bi-house"></i>
                    Home
                </a>
                <a href="/search" class="nav-link nav-text">
                    <i class="bi bi-search"></i>
                    Search
                </a>
                <a href="/health" class="nav-link nav-text">
                    <i class="bi bi-heart-pulse"></i>
                    Health
                </a>
                <a href="/connectivity" class="nav-link nav-text">
                    <i class="bi bi-diagram-3"></i>
                    Network
                </a>
            </div>
        </div>
    </header>

    <main class="content-container">
        <div class="container">
            {% block content %}{% endblock %}
        </div>
    </main>

    <footer class="app-footer">
        <div class="footer-content">
            <i class="bi bi-airplane" style="color: var(--ps-sky);"></i>
            <span>Planespotter - Microservices Demo Application</span>
        </div>
    </footer>
</body>
</html>
